<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ç« è¯¦æƒ… - Leo's Blog</title>
    <!-- å¼•å…¥å¤–éƒ¨CSSä¿æŒæ ·å¼ä¸€è‡´ -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        .h2 {
            color: #da1a1a;
        }
    </style>
    <!-- å¼•å…¥marked.jsç”¨äºæ¸²æŸ“Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="header">
        <div class="logo"><a href="index.html">Leo's Blog</a></div>
        <nav class="nav">
            <a href="index.html">ä¸»é¡µ</a>
            <a href="#">å½’æ¡£</a>
            <a href="#">å…³äºæˆ‘</a>
            <a href="#">è”ç³»</a>
        </nav>
    </div>

    <div class="container">
        <div class="main-content">
            <div class="article-content fade-in" id="articleContainer">
                <!-- Markdownå†…å®¹å°†é€šè¿‡JSæ¸²æŸ“åˆ°è¿™é‡Œ -->
                <div class="loading">åŠ è½½ä¸­...</div>
            </div>
        </div>

        <div class="sidebar">
            <h3>ğŸ‘¤ å…³äºä½œè€…</h3>
            <p>ä¸€ä½æ›¾ç»ä¿¡å¥‰ç«ç‘°ä¸æ˜Ÿè¾°çš„å‡¡äººï¼Œç°åœ¨ä»ç„¶ä¿¡å¥‰ç€ã€‚åœ¨è¿™é‡Œï¼Œä»–å¸Œæœ›èƒ½åšæŒçƒ­çˆ±ä¸‹å»ã€‚</p>
            <br>
            <h3>ğŸ·ï¸ çƒ­é—¨æ ‡ç­¾</h3>
            <p>
                <a style="margin-right: 8px;" href="#">#å‰ç«¯æŠ€æœ¯ </a>
                <a style="margin-right: 8px;" href="#">#é˜…è¯»</a>
                <a style="margin-right: 8px;" href="#">#ç¤¾ç§‘</a>
                <a style="margin-right: 8px;" href="#">#å“²æ€</a>
            </p>
        </div>
    </div>

    <script>
        // è·å–URLä¸­çš„æ–‡ç« æ–‡ä»¶åå‚æ•°
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // æ¸²æŸ“Markdownæ–‡ç« 
        async function renderArticle() {
            const fileName = getQueryParam('file');
            if (!fileName) {
                document.getElementById('articleContainer').innerHTML = '<h2>æ–‡ç« ä¸å­˜åœ¨</h2>';
                return;
            }

            try {
                // åŠ è½½Markdownæ–‡ä»¶
                const response = await fetch(`Article/${fileName}`);
                if (!response.ok) throw new Error('æ–‡ç« åŠ è½½å¤±è´¥');
                
                const markdownContent = await response.text();
                // è½¬æ¢ä¸ºHTMLå¹¶æ¸²æŸ“
                const htmlContent = marked.parse(markdownContent);
                document.getElementById('articleContainer').innerHTML = htmlContent;
                
                // æ·»åŠ æ¸æ˜¾åŠ¨ç”»
                setTimeout(() => {
                    document.getElementById('articleContainer').classList.add('visible');
                }, 100);

                // æ›´æ–°é¡µé¢æ ‡é¢˜
                const titleElement = document.querySelector('#articleContainer h1');
                if (titleElement) {
                    document.title = `${titleElement.textContent} - Jie's Blog`;
                }
            } catch (error) {
                document.getElementById('articleContainer').innerHTML = `<h2>åŠ è½½å¤±è´¥: ${error.message}</h2>`;
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ¸²æŸ“æ–‡ç« 
        document.addEventListener('DOMContentLoaded', renderArticle);
    </script>
</body>
</html>